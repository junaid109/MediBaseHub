<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="clr-namespace:MediHub.App.ViewModels"
             mc:Ignorable="d" d:DesignWidth="1200" d:DesignHeight="800"
             x:Class="MediHub.App.Views.SchedulerView"
             x:DataType="vm:SchedulerViewModel">

  <UserControl.DataContext>
    <vm:SchedulerViewModel />
  </UserControl.DataContext>

  <Grid RowDefinitions="Auto, *">
      <!-- Header -->
      <Grid Grid.Row="0" ColumnDefinitions="*, Auto" Margin="0 0 0 32">
          <StackPanel Spacing="8">
              <TextBlock Text="Appointment Scheduler" FontSize="32" FontWeight="ExtraBold" Foreground="{DynamicResource TextPrimaryBrush}"/>
              <TextBlock Text="Manage and coordinate clinical appointments across medical departments." FontSize="14" Foreground="{DynamicResource TextSecondaryBrush}"/>
          </StackPanel>
          
          <Button Grid.Column="1" Classes="Primary" Content="New Appointment" Padding="24 12" VerticalAlignment="Bottom"/>
      </Grid>

      <Grid Grid.Row="1" ColumnDefinitions="320, 24, *">
          <!-- Sidebar / Calendar Placehold -->
          <StackPanel Grid.Column="0" Spacing="24">
              <Border Classes="Card" Padding="20">
                  <StackPanel Spacing="20">
                      <TextBlock Text="Calendar Overview" FontWeight="Bold" FontSize="16" Foreground="{DynamicResource TextPrimaryBrush}"/>
                      <!-- Placeholder for actual Calendar control -->
                      <Calendar SelectionMode="SingleDate" />
                  </StackPanel>
              </Border>

              <Border Classes="Card" Padding="20">
                  <StackPanel Spacing="16">
                      <TextBlock Text="Clinic Resources" FontWeight="Bold" FontSize="16" Foreground="{DynamicResource TextPrimaryBrush}"/>
                      <StackPanel Spacing="12">
                          <CheckBox Content="Consultation Room 1" IsChecked="True"/>
                          <CheckBox Content="Consultation Room 2" IsChecked="True"/>
                          <CheckBox Content="Dental Suite" IsChecked="True"/>
                          <CheckBox Content="Phlebotomy Lab" IsChecked="False"/>
                      </StackPanel>
                  </StackPanel>
              </Border>
          </StackPanel>

          <!-- Main Schedule -->
          <Border Grid.Column="2" Classes="Card" Padding="0">
              <Grid RowDefinitions="Auto, *">
                  <!-- Toolbar -->
                  <Border Grid.Row="0" Background="#05FFFFFF" Padding="20 16" BorderThickness="0 0 0 1" BorderBrush="{DynamicResource SurfaceLightBrush}">
                      <Grid ColumnDefinitions="*, Auto">
                          <StackPanel Orientation="Horizontal" Spacing="16">
                              <TextBlock Text="Schedule for Today" FontWeight="Bold" FontSize="18" VerticalAlignment="Center" Foreground="{DynamicResource TextPrimaryBrush}"/>
                              <Border Background="#20135BEC" CornerRadius="4" Padding="8 4" VerticalAlignment="Center">
                                  <TextBlock Text="4 Appointments" Foreground="{DynamicResource PrimaryBrush}" FontSize="12" FontWeight="SemiBold"/>
                              </Border>
                          </StackPanel>
                          <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="12">
                              <TextBox Width="200" Watermark="Search appointments..." Classes="Search" VerticalContentAlignment="Center"/>
                              <Button Content="Filter" />
                          </StackPanel>
                      </Grid>
                  </Border>

                  <!-- Appointment List -->
                  <ScrollViewer Grid.Row="1" Padding="20">
                      <ItemsControl ItemsSource="{Binding Appointments}">
                          <ItemsControl.ItemTemplate>
                              <DataTemplate>
                                  <Border Margin="0 0 0 12" Background="#05FFFFFF" CornerRadius="8" Padding="16" BorderThickness="1" BorderBrush="#10FFFFFF">
                                      <Grid ColumnDefinitions="80, *, Auto">
                                          <!-- Time -->
                                          <StackPanel VerticalAlignment="Center">
                                              <TextBlock Text="{Binding Time, StringFormat='{}{0:HH:mm}'}" FontSize="18" FontWeight="Bold" Foreground="{DynamicResource TextPrimaryBrush}"/>
                                              <TextBlock Text="{Binding Time, StringFormat='{}{0:tt}'}" FontSize="12" Foreground="{DynamicResource TextSecondaryBrush}"/>
                                          </StackPanel>

                                          <!-- Info -->
                                          <StackPanel Grid.Column="1" Margin="24 0 0 0" VerticalAlignment="Center" Spacing="4">
                                              <TextBlock Text="{Binding PatientName}" FontSize="16" FontWeight="SemiBold" Foreground="{DynamicResource TextPrimaryBrush}"/>
                                              <StackPanel Orientation="Horizontal" Spacing="12">
                                                  <TextBlock Text="{Binding Type}" FontSize="12" Foreground="{DynamicResource PrimaryBrush}"/>
                                                  <TextBlock Text="â€¢" Foreground="{DynamicResource TextSecondaryBrush}"/>
                                                  <TextBlock Text="{Binding Reason}" FontSize="12" Foreground="{DynamicResource TextSecondaryBrush}"/>
                                              </StackPanel>
                                          </StackPanel>

                                          <!-- Status -->
                                          <StackPanel Grid.Column="2" VerticalAlignment="Center" Spacing="8">
                                              <Border Background="#10135BEC" CornerRadius="4" Padding="8 4" HorizontalAlignment="Right">
                                                  <TextBlock Text="{Binding Status}" Foreground="{DynamicResource PrimaryBrush}" FontSize="11" FontWeight="SemiBold"/>
                                              </Border>
                                              <Button Content="Patient File" FontSize="11" Padding="8 4" Classes="Link"/>
                                          </StackPanel>
                                      </Grid>
                                  </Border>
                              </DataTemplate>
                          </ItemsControl.ItemTemplate>
                      </ItemsControl>
                  </ScrollViewer>
              </Grid>
          </Border>
      </Grid>
  </Grid>
</UserControl>
